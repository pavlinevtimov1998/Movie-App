<section class="createPage">
  <form [formGroup]="createmovieForm" (ngSubmit)="createmovieHandler()">
    <fieldset>
      <legend>Add movie</legend>

      <div class="container">
        <label for="name" class="vhide">movie name</label>
        <input
          formControlName="name"
          id="name"
          name="name"
          class="name"
          type="text"
          placeholder="movie name"
        />

        <ng-container
          *ngIf="
            createmovieForm.controls['name'].touched &&
            createmovieForm.controls['name'].errors?.['required']
          "
        >
          <p class="error">movie name is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['name'].touched &&
            createmovieForm.controls['name'].errors?.['pattern'] &&  
            !createmovieForm.controls['name'].errors?.['required']
          "
        >
          <p class="error">movie should contains only letters!</p>
        </ng-container>

        <label for="imageUrl" class="vhide">Image Url</label>
        <input
          formControlName="imageUrl"
          id="imageUrl"
          name="imageUrl"
          class="imageUrl"
          type="text"
          placeholder="Image Url"
        />

        <ng-container
          *ngIf="
            createmovieForm.controls['imageUrl'].touched &&
            createmovieForm.controls['imageUrl'].errors?.['required']
          "
        >
          <p class="error">movie image URL is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['imageUrl'].touched &&
            createmovieForm.controls['imageUrl'].errors?.['pattern'] &&  
            !createmovieForm.controls['imageUrl'].errors?.['required']
          "
        >
          <p class="error">Invalid image URL!</p>
        </ng-container>

        <label for="price" class="vhide">Price</label>
        <input
          formControlName="price"
          id="price"
          name="price"
          class="price"
          type="text"
          placeholder="Price"
        />

        <mat-form-field>
          <input
            matInput
            formControlName="releaseDate"
            type="text"
            placeholder="Release date"
            [matDatepicker]="datePicker"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="datePicker"
          ></mat-datepicker-toggle>
          <mat-datepicker #datePicker></mat-datepicker>
        </mat-form-field>

        <ng-container
          *ngIf="
            createmovieForm.controls['releaseDate'].touched &&
            createmovieForm.controls['releaseDate'].errors?.['required']
          "
        >
          <p class="error">movie release date is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['releaseDate'].touched &&
            createmovieForm.controls['releaseDate'].errors?.['pattern'] &&  
            !createmovieForm.controls['releaseDate'].errors?.['required']
          "
        >
          <p class="error">
            movie release date should contains only letters and digits!
          </p>
        </ng-container>

        <label for="artist" class="vhide">Artist</label>
        <input
          formControlName="artist"
          id="artist"
          name="artist"
          class="artist"
          type="text"
          placeholder="Artist"
        />

        <ng-container
          *ngIf="
            createmovieForm.controls['artist'].touched &&
            createmovieForm.controls['artist'].errors?.['required']
          "
        >
          <p class="error">movie artist is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['artist'].touched &&
            createmovieForm.controls['artist'].errors?.['pattern'] &&  
            !createmovieForm.controls['artist'].errors?.['required']
          "
        >
          <p class="error">movie artist should contains only letters!</p>
        </ng-container>

        <label for="genre" class="vhide">Genre</label>
        <input
          formControlName="genre"
          id="genre"
          name="genre"
          class="genre"
          type="text"
          placeholder="Genre"
        />

        <ng-container
          *ngIf="
            createmovieForm.controls['genre'].touched &&
            createmovieForm.controls['genre'].errors?.['required']
          "
        >
          <p class="error">movie genre is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['genre'].touched &&
            createmovieForm.controls['genre'].errors?.['pattern'] &&  
            !createmovieForm.controls['genre'].errors?.['required']
          "
        >
          <p class="error">movie genre should contains only letters!</p>
        </ng-container>

        <label for="description" class="vhide">Description</label>
        <textarea
          formControlName="description"
          name="description"
          class="description"
          placeholder="Description"
        ></textarea>

        <ng-container
          *ngIf="
            createmovieForm.controls['description'].touched &&
            createmovieForm.controls['description'].errors?.['required']
          "
        >
          <p class="error">movie description is required!</p>
        </ng-container>
        <ng-container
          *ngIf="
            createmovieForm.controls['description'].touched &&
            createmovieForm.controls['description'].errors?.['minLength'] &&  
            !createmovieForm.controls['description'].errors?.['required']
          "
        >
          <p class="error">
            movie description should be at least 10 characters!
          </p>
        </ng-container>

        <button [disabled]="createmovieForm.invalid" class="add-movie">
          Add New movie
        </button>
      </div>
    </fieldset>
  </form>
</section>
