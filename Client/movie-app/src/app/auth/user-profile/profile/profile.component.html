<mat-tab-group mat-align-tabs="center">
  <mat-tab label="Profile">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <mat-card
      *ngIf="!isEditMode && !isLoading"
      class="card"
      fxLayout="column"
      fxLayoutAlign="center center"
    >
      <div mat-card-avatar>
        <img *ngIf="currentUser.imageUrl" [src]="currentUser.imageUrl" alt="" />
        <img
          *ngIf="!currentUser.imageUrl"
          src="/assets/24-248253_user-profile-default-image-png-clipart-png-download.png"
          alt=""
        />
      </div>
      <mat-card-header>
        <mat-card-title>{{ currentUser.username }}</mat-card-title>
        <mat-card-subtitle>{{ currentUser.email }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <ul fxLayout fxLayoutGap="10px">
          <li>
            <button color="primary" mat-icon-button>
              <mat-icon>facebook</mat-icon>
            </button>
          </li>
          <li>
            <button color="warn" mat-icon-button>
              <mat-icon>mail</mat-icon>
            </button>
          </li>
        </ul>
        <button
          class="edit-btn"
          mat-icon-button
          color="primary"
          (click)="isEditMode = true"
        >
          <mat-icon>edit</mat-icon><span>Edit</span>
        </button>
      </mat-card-content>
    </mat-card>

    <mat-card
      *ngIf="isEditMode && !isLoading"
      class="card"
      fxLayout="column"
      fxLayoutAlign="center center"
    >
      <form
        [formGroup]="profileEditForm"
        fxLayout="column"
        fxLayoutAlign="center center"
        fxLayoutGap="20px"
        [formGroup]="profileEditForm"
        (ngSubmit)="profileEditHandler()"
      >
        <mat-form-field>
          <input
            matInput
            formControlName="username"
            id="username"
            class="username"
            name="username"
            type="text"
            placeholder="Username"
          />
          <!-- <mat-error
            *ngIf="
              loginForm.controls['username'].invalid &&
              loginForm.controls['username'].touched
            "
            >Username is invalid!</mat-error
          > -->
        </mat-form-field>

        <!-- <mat-form-field hintLabel="Should be at least 6 characters!"> -->
        <mat-form-field>
          <input
            matInput
            formControlName="email"
            id="email"
            class="email"
            name="email"
            type="text"
            placeholder="Email"
          />
          <!-- <mat-error
            *ngIf="
              loginForm.controls['password'].invalid &&
              loginForm.controls['password'].touched
            "
            >Password is invalid!</mat-error
          > -->
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit">
          <mat-icon>edit</mat-icon><span>Submit</span>
        </button>

        <p class="field">
          <span
            >If you don't have profile click
            <a routerLink="/user/register">here</a></span
          >
        </p>
      </form>
    </mat-card>
  </mat-tab>
  <mat-tab label="My Movies">
    <app-user-movies></app-user-movies>
  </mat-tab>
</mat-tab-group>
